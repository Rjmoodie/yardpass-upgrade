project_id = "yieslxnrfeqchbcmgavz"

[api]
enabled = true
port = 54321
schemas = ["public", "graphql_public"]
extra_search_path = ["public", "extensions"]
max_rows = 1000

[auth]
enabled = true
site_url = "http://localhost:3000"
additional_redirect_urls = ["https://lovable.app/**", "https://*.lovable.app/**"]
jwt_expiry = 3600
enable_signup = true

[auth.email]
enable_signup = true
double_confirm_changes = true
enable_confirmations = false

[auth.sms]
enable_signup = true
enable_confirmations = true

[realtime]
enabled = true

[storage]
enabled = true
file_size_limit = "50MiB"

[db]
port = 54322
major_version = 17


[functions.create-checkout]
verify_jwt = false

[functions.process-payment]
verify_jwt = false

[functions.get-user-tickets]
verify_jwt = true

[functions.get-order-status]
verify_jwt = false

[functions.scanner-authorize]
verify_jwt = true

[functions.scanner-validate]
verify_jwt = true

[functions.scanner-invite]
verify_jwt = true

[functions.scanner-toggle]
verify_jwt = true

[functions.posts-create]
verify_jwt = true

[functions.posts-list]
verify_jwt = false

[functions.send-role-invite]
verify_jwt = true

[functions.messaging-queue]
verify_jwt = true

[functions.analytics-event-overview]
verify_jwt = true

[functions.analytics-org-overview]
verify_jwt = true

[functions.analytics-video-mux]
verify_jwt = true

[functions.analytics-posthog-funnel]
verify_jwt = true

[functions.refresh-stripe-accounts]
verify_jwt = true

[functions.create-payout]
verify_jwt = true

[functions.get-stripe-balance]
verify_jwt = true

[functions.enhanced-checkout]
verify_jwt = true

[functions.guest-checkout]
verify_jwt = false

[functions.checkout-session-status]
verify_jwt = false

[functions.ai-image-generator]
verify_jwt = false

[functions.ticket-expiry-daemon]
verify_jwt = false

[functions.payment-success-handler]
verify_jwt = false

[functions.ensure-tickets]
verify_jwt = false

[functions.inventory-monitor]
verify_jwt = false

[functions.get-wallet]
verify_jwt = true

[functions.purchase-credits]
verify_jwt = true

[functions.wallet-stripe-webhook]
verify_jwt = false

[functions.wallet-auto-reload]
verify_jwt = true

[functions.wallet-transactions]
verify_jwt = true

[functions.internal-spend]
verify_jwt = false

[functions.wallet-admin-credit]
verify_jwt = true

[functions.get-org-wallet]
verify_jwt = true

[functions.purchase-org-credits]
verify_jwt = true

[functions.org-wallet-transactions]
verify_jwt = true

[functions.org-wallet-auto-reload]
verify_jwt = true

[functions.stripe-webhook]
verify_jwt = false

[functions.guest-tickets-start]
verify_jwt = false

[functions.guest-tickets-verify]
verify_jwt = false

[functions.tickets-list-guest]
verify_jwt = false

[functions.validate-guest-code]
verify_jwt = false

# ===== SPONSORSHIP FUNCTIONS =====
# Note: Cron jobs must be configured in Supabase Dashboard
# Functions → sponsorship-recalc → Cron → "*/10 * * * *"

[functions.sponsorship-recalc]
verify_jwt = false

[functions.sponsorship-score-onchange]
verify_jwt = false

[functions.sponsorship-checkout]
verify_jwt = true

[functions.sponsorship-payouts]
verify_jwt = true

[functions.sponsor-create-intent]
verify_jwt = true

[functions.sponsor-payout]
verify_jwt = true